/*
 Luniverse Elements v3.8
 ECMAScript 2017 template processor
 Licensed under the MIT license
 Copyright (c) 2021 Lukas Jans
 https://github.com/ljans/elements
*/
'use strict';class Elements{get open(){return this.escape(this.config.open||this.constructor.open||"{{")}get close(){return this.escape(this.config.close||this.constructor.close||"}}")}set open(a){this.config.open=a}set close(a){this.config.close=a}constructor(a={}){this.config=a}context(a,b){a:for(let c of b){if("."==a)return c;for(const d of a.split(".")){if(null==c)return;c=c[d];if("undefined"==typeof c)continue a}return c}}escape(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}isEmpty(a){return a instanceof
Function||a instanceof Date?!1:a instanceof Array?!a.length:a instanceof Object?!Object.getOwnPropertyNames(a).length:!a}static render(a,b){return(new this).render(a,b)}render(a,b={}){a=this.renderRecursive(a,[b]);return this.renderComments(a)}renderComments(a){return a.replace(new RegExp(this.open+"!.+?"+this.close,"g"),"")}renderSections(a,b){return a.replace(new RegExp(this.open+"(\\^|#)(.+?)"+this.close+"((?:\\s|\\S)+?)"+this.open+"/\\2"+this.close,"g"),(c,d,f,e)=>{c=this.context(f,b);return"#"!=
d||this.isEmpty(c)?"^"==d&&this.isEmpty(c)?this.renderRecursive(e,b):"":this.renderRecursive(e,b,c)})}renderPlaceholders(a,b){return a.replace(new RegExp(this.open+"([\\w\\.]+?)"+this.close,"g"),(c,d)=>{d=this.context(d,b);return"string"==typeof d||"number"==typeof d?d:c})}renderRecursive(a,b,...c){b=b.slice(0);c.length&&b.unshift(c[0]);if(b[0]instanceof Function)return b[0](a);if(b[0]instanceof Array&&b[0].length)return this.renderArray(a,b);if(b[0]instanceof Date)return this.renderDate(a,b);a=this.renderSections(a,
b);return a=this.renderPlaceholders(a,b)}renderArray(a,b){return b[0].map(c=>this.renderRecursive(a,b,c)).join("")}renderDate(a,b){const c=b[0];return this.renderRecursive(a,b,{d:c.getDate().toString().padStart(2,0),j:c.getDate(),w:c.getDay(),m:(c.getMonth()+1).toString().padStart(2,0),n:c.getMonth()+1,Y:c.getFullYear(),G:c.getHours(),H:c.getHours().toString().padStart(2,0),i:c.getMinutes().toString().padStart(2,0),s:c.getSeconds().toString().padStart(2,0)})}};